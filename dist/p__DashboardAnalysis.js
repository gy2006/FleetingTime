(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{"14J3":function(e,a,t){"use strict";t("cIOH"),t("1GLa")},A6wC:function(e,a,t){"use strict";t.r(a);t("14J3");var n=t("BMrR"),r=(t("jCWc"),t("kPKH")),l=(t("qVdP"),t("jsC+")),s=(t("lUTK"),t("BvKs")),i=t("fWQN"),c=t("mtLc"),o=t("yKVA"),u=t("879j"),d=t("GZ0F"),m=t("q1tI"),f=t.n(m),h=t("HTcj"),p=t("9kvl"),g=(t("T2oS"),t("W9HT")),y=function(){return f.a.createElement("div",{style:{paddingTop:100,textAlign:"center"}},f.a.createElement(g["a"],{size:"large"}))},_=t("wd/R"),v=t.n(_);function b(e){return 1*e<10?"0".concat(e):e}function k(e){var a=new Date,t=864e5;if("today"===e)return a.setHours(0),a.setMinutes(0),a.setSeconds(0),[v()(a),v()(a.getTime()+(t-1e3))];if("week"===e){var n=a.getDay();a.setHours(0),a.setMinutes(0),a.setSeconds(0),0===n?n=6:n-=1;var r=a.getTime()-n*t;return[v()(r),v()(r+(7*t-1e3))]}var l=a.getFullYear();if("month"===e){var s=a.getMonth(),i=v()(a).add(1,"months"),c=i.year(),o=i.month();return[v()("".concat(l,"-").concat(b(s+1),"-01 00:00:00")),v()(v()("".concat(c,"-").concat(b(o+1),"-01 00:00:00")).valueOf()-1e3)]}return[v()("".concat(l,"-01-01 00:00:00")),v()("".concat(l,"-12-31 23:59:59"))]}var T=t("xLW6"),E=t.n(T),C=f.a.lazy((function(){return Promise.all([t.e(0),t.e(4),t.e(5),t.e(25)]).then(t.bind(null,"aF78"))})),D=f.a.lazy((function(){return Promise.all([t.e(0),t.e(4),t.e(24),t.e(5),t.e(28)]).then(t.bind(null,"iLzO"))})),x=f.a.lazy((function(){return Promise.all([t.e(0),t.e(3),t.e(4),t.e(22),t.e(23)]).then(t.bind(null,"+wox"))})),S=f.a.lazy((function(){return Promise.all([t.e(0),t.e(4),t.e(5),t.e(26)]).then(t.bind(null,"bhCm"))})),P=f.a.lazy((function(){return Promise.all([t.e(0),t.e(4),t.e(5),t.e(27)]).then(t.bind(null,"AOKL"))})),w=function(e){Object(o["a"])(t,e);var a=Object(u["a"])(t);function t(){var e;Object(i["a"])(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=a.call.apply(a,[this].concat(r)),e.state={salesType:"all",currentTabKey:"",rangePickerValue:k("year")},e.reqRef=0,e.timeoutId=0,e.handleChangeSalesType=function(a){e.setState({salesType:a.target.value})},e.handleTabChange=function(a){e.setState({currentTabKey:a})},e.handleRangePickerChange=function(a){var t=e.props.dispatch;e.setState({rangePickerValue:a}),t({type:"dashboardAnalysis/fetchSalesData"})},e.selectDate=function(a){var t=e.props.dispatch;e.setState({rangePickerValue:k(a)}),t({type:"dashboardAnalysis/fetchSalesData"})},e.isActive=function(a){var t=e.state.rangePickerValue;if(!t)return"";var n=k(a);return n&&t[0]&&t[1]&&t[0].isSame(n[0],"day")&&t[1].isSame(n[1],"day")?E.a.currentDate:""},e}return Object(c["a"])(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;this.reqRef=requestAnimationFrame((function(){e({type:"dashboardAnalysis/fetch"})}))}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e({type:"dashboardAnalysis/clear"}),cancelAnimationFrame(this.reqRef),clearTimeout(this.timeoutId)}},{key:"render",value:function(){var e,a=this.state,t=a.rangePickerValue,i=a.salesType,c=a.currentTabKey,o=this.props,u=o.dashboardAnalysis,p=o.loading,g=u.visitData,_=u.visitData2,v=u.salesData,b=u.searchData,k=u.offlineData,T=u.offlineChartData,w=u.salesTypeData,j=u.salesTypeDataOnline,A=u.salesTypeDataOffline;e="all"===i?w:"online"===i?j:A;var O=f.a.createElement(s["a"],null,f.a.createElement(s["a"].Item,null,"\u64cd\u4f5c\u4e00"),f.a.createElement(s["a"].Item,null,"\u64cd\u4f5c\u4e8c")),I=f.a.createElement("span",{className:E.a.iconGroup},f.a.createElement(l["a"],{overlay:O,placement:"bottomRight"},f.a.createElement(d["a"],null))),R=c||k[0]&&k[0].name;return f.a.createElement(h["a"],null,f.a.createElement(f.a.Fragment,null,f.a.createElement(m["Suspense"],{fallback:f.a.createElement(y,null)},f.a.createElement(C,{loading:p,visitData:g})),f.a.createElement(m["Suspense"],{fallback:null},f.a.createElement(D,{rangePickerValue:t,salesData:v,isActive:this.isActive,handleRangePickerChange:this.handleRangePickerChange,loading:p,selectDate:this.selectDate})),f.a.createElement(n["a"],{gutter:24,style:{marginTop:24}},f.a.createElement(r["a"],{xl:12,lg:24,md:24,sm:24,xs:24},f.a.createElement(m["Suspense"],{fallback:null},f.a.createElement(x,{loading:p,visitData2:_,searchData:b,dropdownGroup:I}))),f.a.createElement(r["a"],{xl:12,lg:24,md:24,sm:24,xs:24},f.a.createElement(m["Suspense"],{fallback:null},f.a.createElement(S,{dropdownGroup:I,salesType:i,loading:p,salesPieData:e,handleChangeSalesType:this.handleChangeSalesType})))),f.a.createElement(m["Suspense"],{fallback:null},f.a.createElement(P,{activeKey:R,loading:p,offlineData:k,offlineChartData:T,handleTabChange:this.handleTabChange}))))}}]),t}(m["Component"]);a["default"]=Object(p["c"])((function(e){var a=e.dashboardAnalysis,t=e.loading;return{dashboardAnalysis:a,loading:t.effects["dashboardAnalysis/fetch"]}}))(w)},BMrR:function(e,a,t){"use strict";var n=t("qrJ5");a["a"]=n["a"]},GZ0F:function(e,a,t){"use strict";var n=t("q1tI"),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},l=r,s=t("6VBw"),i=function(e,a){return n["createElement"](s["a"],Object.assign({},e,{ref:a,icon:l}))};i.displayName="EllipsisOutlined";a["a"]=n["forwardRef"](i)},HTcj:function(e,a,t){"use strict";t("GNNt");var n=t("wEI+"),r=(t("kZZr"),t("q1tI")),l=t.n(r),s=t("TSYQ"),i=t.n(s),c=t("jYQm"),o=function(e){var a=Object(r["useContext"])(c["a"]),t=e.children,s=e.contentWidth,o=e.className,u=e.style,d=Object(r["useContext"])(n["b"].ConfigContext),m=d.getPrefixCls,f=e.prefixCls||m("pro"),h=s||a.contentWidth,p="".concat(f,"-grid-content");return l.a.createElement("div",{className:i()(p,o,{wide:"Fixed"===h}),style:u},l.a.createElement("div",{className:"".concat(f,"-grid-content-children")},t))};a["a"]=o},jCWc:function(e,a,t){"use strict";t("cIOH"),t("1GLa")},jYQm:function(e,a,t){"use strict";var n=t("q1tI"),r=Object(n["createContext"])({});a["a"]=r},kPKH:function(e,a,t){"use strict";var n=t("/kpp");a["a"]=n["a"]},kZZr:function(e,a,t){},xLW6:function(e,a,t){e.exports={iconGroup:"iconGroup___Kp5EK",anticon:"anticon___uSrsL",rankingList:"rankingList___1STrX",rankingItemNumber:"rankingItemNumber___1lt0s",active:"active___pyjGe",rankingItemTitle:"rankingItemTitle___kbB5A",salesExtra:"salesExtra___2oujy",currentDate:"currentDate___2nPG9",salesCard:"salesCard___1d1Yl",salesBar:"salesBar___1TfrQ",salesRank:"salesRank___8-Vml",salesCardExtra:"salesCardExtra___1SXIg",salesTypeRadio:"salesTypeRadio___1G05B",offlineCard:"offlineCard___3VN0w",trendText:"trendText___1KPc2",rankingTitle:"rankingTitle___4Pfad",salesExtraWrap:"salesExtraWrap___1tHmN"}}}]);